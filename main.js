!function(){"use strict";var t={21:function(t,e){e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[t,o]of e)n[t]=o;return n}},631:function(t,e,n){var o=Vue;const s={class:"app"},a={class:"navbar navbar-light navbar-expand-md"},d={class:"container"},i={class:"navbar-brand",href:"./"},c=(0,o.createElementVNode)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar-collapse","aria-controls":"navbar-collapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o.createElementVNode)("span",{class:"navbar-toggler-icon"})],-1),l=(0,o.createElementVNode)("div",{id:"navbar-collapse",class:"collapse navbar-collapse justify-content-end",role:"navigation"},[(0,o.createElementVNode)("nav",{class:"nav navbar-nav"},[(0,o.createElementVNode)("a",{class:"nav-link",href:"https://github.com/fengyuanchen/vue-countdown",title:"View the GitHub project"}," GitHub "),(0,o.createElementVNode)("a",{class:"nav-link",href:"https://fengyuanchen.github.io/",title:"Explore more projects"}," Explore "),(0,o.createElementVNode)("a",{class:"nav-link",href:"https://chenfengyuan.com/",title:"About the author"}," About ")])],-1),r={class:"bg-primary text-white py-5"},u={class:"container"},m={class:"row"},h={class:"col-md"},p={class:"h6"},v={class:"lead"},b={class:"col-md"},g={ref:"carbonads",class:"carbonads"},f={class:"container"},y={class:"markdown-body"},w=(0,o.createStaticVNode)('<footer><div class="container"><p class="heart"></p><nav class="nav flex-wrap justify-content-center mb-3"><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown"> GitHub </a><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown/blob/main/CHANGELOG.md"> Changelog </a><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown/blob/main/LICENSE"> License </a><a class="nav-link" href="https://chenfengyuan.com/"> About </a></nav></div></footer>',1);var E=JSON.parse('{"name":"@chenfengyuan/vue-countdown","version":"2.0.0","description":"Countdown component for Vue 3.","main":"dist/vue-countdown.js","module":"dist/vue-countdown.esm.js","types":"dist/vue-countdown.d.ts","files":["dist"],"scripts":{"build":"rollup -c --environment BUILD:production","build:docs":"webpack --env production","build:types":"move-file dist/index.d.ts dist/vue-countdown.d.ts","changelog":"conventional-changelog -p angular -i CHANGELOG.md -s -r 0","clean":"del-cli dist","lint":"npm run lint:js && npm run lint:css","lint:css":"stylelint **/*.{css,scss,vue} --fix","lint:js":"eslint . --ext .js,.ts,.vue --fix","prepare":"husky install","release":"npm run clean && npm run lint && npm run build && npm run build:types && npm run build:docs && npm test && npm run changelog","serve":"webpack serve --hot --open","start":"npm run serve","test":"jest","test:coverage":"cat coverage/lcov.info | codecov"},"repository":{"type":"git","url":"https://github.com/fengyuanchen/vue-countdown.git"},"keywords":["countdown","vue","vue3","vue-component","front-end","web"],"author":"Chen Fengyuan (https://chenfengyuan.com/)","license":"MIT","bugs":"https://github.com/fengyuanchen/vue-countdown/issues","homepage":"https://fengyuanchen.github.io/vue-countdown","devDependencies":{"@babel/core":"^7.17.0","@babel/preset-env":"^7.16.11","@commitlint/cli":"^16.1.0","@commitlint/config-conventional":"^16.0.0","@types/jest":"^27.4.0","@typescript-eslint/eslint-plugin":"^5.10.2","@typescript-eslint/parser":"^5.10.2","@vue/compiler-sfc":"^3.2.30","@vue/test-utils":"^2.0.0-rc.18","@vue/vue3-jest":"^27.0.0-alpha.4","babel-jest":"^27.5.0","babel-loader":"^8.2.3","change-case":"^4.1.2","codecov":"^3.8.3","conventional-changelog-cli":"^2.2.2","create-banner":"^2.0.0","css-loader":"^6.6.0","del-cli":"^4.0.1","eslint":"^8.8.0","eslint-config-airbnb-typescript":"^16.1.0","eslint-plugin-import":"^2.25.4","eslint-plugin-vue":"^8.4.1","html-webpack-plugin":"^5.5.0","husky":"^7.0.4","jest":"^27.5.0","lint-staged":"^12.3.3","markdown-to-vue-loader":"^3.1.3","mini-css-extract-plugin":"^2.5.3","move-file-cli":"^3.0.0","postcss":"^8.4.6","rollup":"^2.67.1","rollup-plugin-postcss":"^4.0.2","rollup-plugin-terser":"^7.0.2","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-vue":"^6.0.0","sass":"^1.49.7","sass-loader":"^12.4.0","style-loader":"^3.3.1","stylelint":"^14.3.0","stylelint-config-recommended-scss":"^5.0.2","stylelint-config-recommended-vue":"^1.1.0","stylelint-order":"^5.0.0","ts-jest":"^27.1.3","ts-loader":"^9.2.6","tslib":"^2.3.1","typescript":"^4.5.5","vue":"^3.2.30","vue-loader":"^17.0.0","webpack":"^5.68.0","webpack-cli":"^4.9.2","webpack-dev-server":"^4.7.4"},"peerDependencies":{"vue":"^3.0.0"},"publishConfig":{"access":"public"}}');const N={class:"component-readme"},V=(0,o.createElementVNode)("h1",null,"Countdown",-1),C=(0,o.createElementVNode)("blockquote",null,[(0,o.createElementVNode)("p",null,"Countdown with optional controls.")],-1),M=(0,o.createElementVNode)("h2",null,"Basic usage",-1),k=(0,o.createElementVNode)("pre",null,[(0,o.createElementVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</template>\n')],-1),S=(0,o.createElementVNode)("h2",null,"Custom interval",-1),j=(0,o.createElementVNode)("pre",null,[(0,o.createElementVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="time" :interval="100" v-slot="{ days, hours, minutes, seconds, milliseconds }">\n    New Year Countdown：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }}.{{ Math.floor(milliseconds / 100) }} seconds.\n  </vue-countdown>\n</template>\n\n<script>\nexport default {\n  data() {\n    const now = new Date();\n    const newYear = new Date(now.getFullYear() + 1, 0, 1);\n\n    return {\n      time: newYear - now,\n    };\n  },\n};\n<\/script>\n')],-1),q=(0,o.createElementVNode)("h2",null,"Transform slot props",-1),D=(0,o.createElementVNode)("pre",null,[(0,o.createElementVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" :transform="transformSlotProps" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</template>\n\n<script>\nexport default {\n  methods: {\n    transformSlotProps(props) {\n      const formattedProps = {};\n\n      Object.entries(props).forEach(([key, value]) => {\n        formattedProps[key] = value < 10 ? `0${value}` : String(value);\n      });\n\n      return formattedProps;\n    },\n  },\n};\n<\/script>\n')],-1),x=(0,o.createElementVNode)("h2",null,"Countdown on demand",-1),T=(0,o.createStaticVNode)('<pre><code class="language-html">&lt;template&gt;\n  &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; :disabled=&quot;counting&quot; @click=&quot;startCountdown&quot;&gt;\n    &lt;vue-countdown v-if=&quot;counting&quot; :time=&quot;60000&quot; @end=&quot;onCountdownEnd&quot; v-slot=&quot;{ totalSeconds }&quot;&gt;Fetch again {{ totalSeconds }} seconds later&lt;/vue-countdown&gt;\n    &lt;span v-else&gt;Fetch Verification Code&lt;/span&gt;\n  &lt;/button&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  data() {\n    return {\n      counting: false,\n    };\n  },\n  methods: {\n    startCountdown: function () {\n      this.counting = true;\n    },\n    onCountdownEnd: function () {\n      this.counting = false;\n    },\n  },\n};\n&lt;/script&gt;\n</code></pre><h2>Props</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>auto-start</td><td><code>boolean</code></td><td><code>true</code></td><td>-</td><td>Indicate if starts the countdown automatically when initialized or not.</td></tr><tr><td>emit-events</td><td><code>boolean</code></td><td><code>true</code></td><td>-</td><td>Indicate if emits the countdown events or not.</td></tr><tr><td>interval</td><td><code>number</code></td><td><code>1000</code></td><td>-</td><td>The interval time (in milliseconds) of the countdown progress. The value should not be less than <code>0</code>.</td></tr><tr><td>now</td><td><code>Function</code></td><td><code>() =&gt; Date.now()</code></td><td>-</td><td>Generates the current time (in milliseconds) in a specific time zone.</td></tr><tr><td>tag</td><td><code>string</code></td><td><code>&quot;span&quot;</code></td><td>-</td><td>The tag name of the component’s root element.</td></tr><tr><td>time</td><td><code>number</code></td><td><code>0</code></td><td>-</td><td>The time (in milliseconds) to count down from.</td></tr><tr><td>transform</td><td><code>Function</code></td><td><code>(slotProps) =&gt; slotProps</code></td><td>-</td><td>Transforms the output slot props before render. The <code>slotProps</code> object contains the following properties: <code>days</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code>, <code>totalDays</code>, <code>totalHours</code>, <code>totalMinutes</code>, <code>totalSeconds</code>, and <code>totalMilliseconds</code>.</td></tr></tbody></table></div><h2>Methods</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td>start</td><td><code>()</code></td><td>Starts the countdown. Run automatically when the <code>auto-start</code> prop is set to <code>true</code>.</td></tr><tr><td>abort</td><td><code>()</code></td><td>Aborts the countdown immediately.</td></tr><tr><td>end</td><td><code>()</code></td><td>Ends the countdown manually.</td></tr></tbody></table></div><h2>Events</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td>start</td><td><code>()</code></td><td>Fires immediately when the countdown starts.</td></tr><tr><td>progress</td><td><code>(data)</code></td><td>Fires continually when the countdown is in progress. The <code>data</code> object contains the following properties: <code>days</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code>, <code>totalDays</code>, <code>totalHours</code>, <code>totalMinutes</code>, <code>totalSeconds</code>, and <code>totalMilliseconds</code>.</td></tr><tr><td>abort</td><td><code>()</code></td><td>Fired when the countdown has aborted.</td></tr><tr><td>end</td><td><code>()</code></td><td>Fired when the countdown has ended.</td></tr></tbody></table></div><blockquote><p>Native events that bubble up from child elements are also available.</p></blockquote><p><strong>Note:</strong> You can set the <code>emit-events</code> property to <code>false</code> to disable these events for better performance.</p>',9);var F,P={components:{"component-readme-0":(F={},"function"==typeof F&&(F=F()),"object"!=typeof F&&(F={}),Object.assign(F,{name:"component-readme-0",template:'<div class="component-readme-0">\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</div>'})),"component-readme-1":function(){var t={data(){const t=new Date;return{time:new Date(t.getFullYear()+1,0,1)-t}}};return"function"==typeof t&&(t=t()),"object"!=typeof t&&(t={}),Object.assign(t,{name:"component-readme-1",template:'<div class="component-readme-1">\n  <vue-countdown :time="time" :interval="100" v-slot="{ days, hours, minutes, seconds, milliseconds }">\n    New Year Countdown：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }}.{{ Math.floor(milliseconds / 100) }} seconds.\n  </vue-countdown>\n</div>'})}(),"component-readme-2":function(){var t={methods:{transformSlotProps(t){const e={};return Object.entries(t).forEach((t=>{let[n,o]=t;e[n]=o<10?"0".concat(o):String(o)})),e}}};return"function"==typeof t&&(t=t()),"object"!=typeof t&&(t={}),Object.assign(t,{name:"component-readme-2",template:'<div class="component-readme-2">\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" :transform="transformSlotProps" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</div>'})}(),"component-readme-3":function(){var t={data:()=>({counting:!1}),methods:{startCountdown:function(){this.counting=!0},onCountdownEnd:function(){this.counting=!1}}};return"function"==typeof t&&(t=t()),"object"!=typeof t&&(t={}),Object.assign(t,{name:"component-readme-3",template:'<div class="component-readme-3">\n  <button type="button" class="btn btn-primary" :disabled="counting" @click="startCountdown">\n    <vue-countdown v-if="counting" :time="60000" @end="onCountdownEnd" v-slot="{ totalSeconds }">Fetch again {{ totalSeconds }} seconds later</vue-countdown>\n    <span v-else="">Fetch Verification Code</span>\n  </button>\n</div>'})}()}},H=n(21),B=(0,H.Z)(P,[["render",function(t,e,n,s,a,d){const i=(0,o.resolveComponent)("component-readme-0"),c=(0,o.resolveComponent)("demo-block"),l=(0,o.resolveComponent)("component-readme-1"),r=(0,o.resolveComponent)("component-readme-2"),u=(0,o.resolveComponent)("component-readme-3");return(0,o.openBlock)(),(0,o.createElementBlock)("div",N,[V,C,M,(0,o.createVNode)(c,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(i)])),_:1}),k,S,(0,o.createVNode)(c,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(l)])),_:1}),j,q,(0,o.createVNode)(c,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(r)])),_:1}),D,x,(0,o.createVNode)(c,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u)])),_:1}),T])}]]);E.name=E.name.split("/").pop()||"";var O=(0,o.defineComponent)({components:{Readme:B},data:()=>E,mounted(){const t=document.createElement("script");t.async=!0,t.id="_carbonads_js",t.src="//cdn.carbonads.com/carbon.js?serve=CKYI55Q7&placement=fengyuanchengithubio",this.$refs.carbonads.appendChild(t)}}),A=(0,H.Z)(O,[["render",function(t,e,n,E,N,V){const C=(0,o.resolveComponent)("Readme");return(0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("header",a,[(0,o.createElementVNode)("nav",d,[(0,o.createElementVNode)("a",i,(0,o.toDisplayString)(t.name),1),c,l])]),(0,o.createElementVNode)("main",null,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("h1",null,[(0,o.createTextVNode)((0,o.toDisplayString)(t.name)+" ",1),(0,o.createElementVNode)("small",p," v"+(0,o.toDisplayString)(t.version),1)]),(0,o.createElementVNode)("p",v,(0,o.toDisplayString)(t.description),1)]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,null,512)])])])]),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",y,[(0,o.createVNode)(C)])])]),w])}]]);const I={class:"demo-block"};var $=(0,o.defineComponent)({name:"DemoBlock"}),G=(0,H.Z)($,[["render",function(t,e,n,s,a,d){return(0,o.openBlock)(),(0,o.createElementBlock)("div",I,[(0,o.renderSlot)(t.$slots,"default")])}]]);const Y=1e3,_=6e4,L=36e5,R=864e5,Z="abort",z="progress",U="start",J="visibilitychange";var K=(0,o.defineComponent)({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[Z,"end",z,U],data:()=>({counting:!1,endTime:0,totalMilliseconds:0,requestId:0}),computed:{days(){return Math.floor(this.totalMilliseconds/R)},hours(){return Math.floor(this.totalMilliseconds%R/L)},minutes(){return Math.floor(this.totalMilliseconds%L/_)},seconds(){return Math.floor(this.totalMilliseconds%_/Y)},milliseconds(){return Math.floor(this.totalMilliseconds%Y)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/L)},totalMinutes(){return Math.floor(this.totalMilliseconds/_)},totalSeconds(){return Math.floor(this.totalMilliseconds/Y)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(J,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(J,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.emitEvents&&this.$emit(U),"visible"===document.visibilityState&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const o=s=>{e||(e=s),n||(n=s);const a=s-e;a>=t||a+(s-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(o),n=s};this.requestId=requestAnimationFrame(o)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.totalMilliseconds-=this.interval,this.emitEvents&&this.totalMilliseconds>0&&this.$emit(z,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(Z))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit("end"))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause()}}},render(){return(0,o.h)(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const Q=(0,o.createApp)(A);Q.component(K.name,K),Q.component(G.name,G),Q.mount("#app")}},e={};!function n(o){var s=e[o];if(void 0!==s)return s.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,n),a.exports}(631)}();